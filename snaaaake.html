<!DOCTYPE html>
<html>
<head>
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.15.1/dist/phaser-arcade-physics.min.js"></script>
</head>
<body>

    <script>
    var config = {
        type: Phaser.AUTO,
        width: 800,
        height: 600,
        physics: {
            default: 'arcade',
            arcade: {
                gravity: { y: 0 }
            }
        },
        scene: {
            preload: preload,
            create: create,
            update: update
        }
    };

    var createMap = function (game)
    {
      var map = game.add.tilemap(null, 20, 20, 40, 30);
      map.addTilesetImage('sheet-blocks');
      return map;
    };
    var game = new Phaser.Game(config);
    var player;
    var cursors;
    var currSpeed;
    var currDir;
    var time;

    function preload ()
    {
      this.load.image('snake', 'assets/snake.png')
      this.load.image('pill', 'assets/pill.png')
    }

    function create ()
    {
        player = this.physics.add.image(0, 0, 'snake')
        //pill = this.physics.add.image(Math.random() * 800 + 1, Math.random() * 600 + 1, 'pill')
        player.setCollideWorldBounds(true);
        cursors = this.input.keyboard.createCursorKeys();
        currSpeed = 250;
        time = 100;
        const grid = new Grid(this, 0, 0, 800, 600, 40, 30)
        grid.setOutlineStyle(0xff0000)
        this.add(grid);
    }

    function update()
    {
      if (cursors.left.isDown)
      {
        if(currDir != "right" && currDir != "left"){
          currDir = "left"
        }
      }
      else if (cursors.right.isDown)
      {
        if(currDir != "left" && currDir != "right"){
          currDir = "right"
        }
      }

      else if (cursors.up.isDown)
      {
        if(currDir != "down" && currDir != "up"){
          currDir = "up"
        }
      }
      else if (cursors.down.isDown)
      {
        if(currDir != "up" && currDir != "down"){
          currDir = "down"
        }
      }
    }

    </script>

</body>
</html>
